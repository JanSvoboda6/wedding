<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wedding</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100;300;400&display=swap" rel="stylesheet"></head>
<body>
<div class="container">
    <div class="screen">
        <div class="top-bar">
            <p class="top-bar-text">v + j</p>
            <div class="timer" id="timer"></div>
            <p class="top-bar-button cross-out" id="toggle-audio-button" onClick="toggleAudio()">zvuk</p>
        </div>
        <div class="heading">
            <div class="heading-text">veronika <br> + jan</div>
            <div class="picture"><img class="picture-faces" src="faces.svg" xmlns="http://www.w3.org/2000/svg"></div>
        </div>
    </div>

    <div class="screen" id="screen-second">
        <div class="section">
            <div class="column">
                <h2 class="section-text">Místo</h2>
                <p class="section-text">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.
                    Curabitur bibendum justo non orci. Nullam sit amet magna in
                    magna gravida vehicula. Aliquam id dolor. Mauris dictum
                    facilisis augue. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.
                    Fusce tellus. Aenean fermentum
                    risus id tortor. Aliquam id dolor. Nulla turpis magna, cursus sit amet,
                    suscipit a, interdum id, felis. In
                    sem justo, commodo ut, suscipit at, pharetra vitae, orci. Ut tempus purus at lorem.</p>
            </div>
            <div class="picture"><img class="picture-area" src="area.png"></div>
        </div>
        <div class="section">
            <div class="picture"><img class="picture-building" src="building.png"></div>
            <div class="column">
                <h2 class="section-text">Ubytování</h2>
                <p class="section-text">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.
                    Curabitur bibendum justo non orci. Nullam sit amet magna in
                    magna gravida vehicula. Aliquam id dolor. Mauris dictum
                    facilisis augue. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.
                    Fusce tellus. Aenean fermentum
                    risus id tortor. Aliquam id dolor. Nulla turpis magna, cursus sit amet,
                    suscipit a, interdum id, felis. In
                    sem justo, commodo ut, suscipit at, pharetra vitae, orci. Ut tempus purus at lorem.</p>
            </div>
        </div>
    </div>

    <div class="screen" id="screen-third">
        <div class="section">
            <div class="column">
            <h2 class="section-text">Dary</h2>
            <p class="section-text">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.
                Curabitur bibendum justo non orci. Nullam sit amet magna in
                magna gravida vehicula. Aliquam id dolor. Mauris dictum
                facilisis augue. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.
                Fusce tellus. Aenean fermentum
                risus id tortor. Aliquam id dolor. Nulla turpis magna, cursus sit amet,
                suscipit a, interdum id, felis. In
                sem justo, commodo ut, suscipit at, pharetra vitae, orci. Ut tempus purus at lorem.</p>
            </div>
            <div class="picture"><img class="picture-us" src="us.png"></div>
        </div>
    </div>
</div>
</body>
<script>
    secondScreen = document.getElementById("screen-second");
    screenThird = document.getElementById("screen-third");

    var myScrollFunc = function () {
        var y = window.scrollY;
        if (y >= 10) {
            secondScreen.className = "screen-secondary show"
        } else {
            secondScreen.className = ".screen-secondary hide"
        }

        if (y >= 1010) {
            screenThird.className = "screen-secondary show"
        } else {
            screenThird.className = ".screen-secondary hide"
        }
    };

    window.addEventListener("scroll", myScrollFunc);

    const tl = gsap.timeline();

    tl.from(".picture-faces", 1.8, {
        opacity: 0,
        x: 500,
        ease: "power4.out",

        stagger: {
            amount: 0.5,
        },
    });

    tl.from(".heading-text", 1.8, {
            opacity: 0,
            ease: "power4.out",
            stagger: {
                amount: .3,
            },
        },
        "-=1.45"
    );

    tl.from(".timer", 1.8, {
            opacity: 0,
            x: 0,
            ease: "power4.out",
            stagger: {
                amount: 0.5,
            },
            delay: 1.1,
        },
        "-= 1"
    );


    tl.from(".reveal div", 1.8, {
            y: 200,
            width: 0,
            ease: "power4.out",
            stagger: {
                amount: .3,
            },
        },
        "-=1.5"
    );

    tl.from(".nav-item", 1.8, {
            opacity: 0,
            y: 100,
            ease: "power4.out",
            stagger: {
                amount: .8,
            },
        },
        "-=0.2"
    );

    var x = setInterval(function () {
        var ctx = {};
        var countDownDate = new Date('Jul 15 2023 12:00:00').getTime(),
            now = new Date().getTime(),
            diff = countDownDate - now,
            tweeks = Math.floor(diff / (1000 * 7 * 24 * 60 * 60)),
            tdays = Math.floor((diff / (1000 * 60 * 60 * 24))),
            thours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),
            tminutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60)),
            tseconds = Math.floor((diff % (1000 * 60)) / 1000);

        // Keep 2 digits
        ctx.weeks = (tweeks < 10) ? '0' + tweeks : tweeks;
        ctx.days = (tdays < 10) ? '0' + tdays : tdays;
        ctx.hours = (thours < 10) ? '0' + thours : thours;
        ctx.minutes = (tminutes < 10) ? '0' + tminutes : tminutes;
        ctx.seconds = (tseconds < 10) ? '0' + tseconds : tseconds;

        // Check for time expiration
        if (diff < 0) {
            clearInterval(x);
        }

       document.getElementById("timer").innerHTML = ctx.days + "d " + ctx.hours + "h " + ctx.minutes + "m " + ctx.seconds + "s";
    }, 1000);

    var source = "./recording.mp3"
    var audio = document.createElement("audio");
    audio.autoplay = true;
    audio.load();
    audio.addEventListener("load", function() {
        audio.play();
    }, true);

    audio.src = source;
    button = document.getElementById("toggle-audio-button");

    function toggleAudio() {
        if (audio.paused) {
            audio.play();
            button.className = "top-bar-button"
        } else {
            audio.pause();
            button.className = "top-bar-button cross-out"
        }
    }
</script>
</html>